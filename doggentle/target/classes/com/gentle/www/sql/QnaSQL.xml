<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
	PUBLIC "-//mybatis.org//DYD Mapper 3.0//EN"
			"http://mybatis.org/dyd/mybatis-3-mapper.dtd">
<mapper namespace="qSQL">
<select id="OrderList" resultType="qVO" parameterType="int">
	<select>
		SELECT
		    tdate, tno, gname, sgno, smno
		FROM
		    (
		    SELECT 
		        tdate, tno, gname, g.GNO sgno, MNO smno
		    FROM
		        TRANSACTION t, GOODS g
		    WHERE
		        t.gno = g.gno
		        AND upno is null
		    ) s, member m
		where
		    m.mno = #{mno}
		    AND smno = m.mno
		    AND rownum between 1 and 3
		ORDER BY sgno desc
	</select>
</mapper>